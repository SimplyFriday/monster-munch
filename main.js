(()=>{"use strict";var e,t={342:(e,t,i)=>{i.d(t,{l:()=>ve});var r=i(325),a=i(761),s=i(650),n=i(966),l=i(362),o=i(916),c=i(279),h=i(78),d=i(553),u=i(196),g=i(89),p=i(802),T=i(765),S=i(489),m=i(316),C=i(94),w=i(467),b=i(456),f=i(936),k=i(657),v=i(48),B=i(280);const F=i(518),W=i(778),y=i(70),I=i(370),P=i(100),x=i(275),A=i(631),M=i(677),L=i(983),O=i(647),_=i(719),D=i(898),V=i(870),H=i(83),R={Bag:new r.Texture(a),ItemIconSheet:new r.Texture(s),PlayerSprites:new r.Texture(l),LevelLoop1:new r.Sound(F),BalloonIconSheet:new r.Texture(n),PanAttack:new r.Texture(o),PanEmpty:new r.Texture(c),PanFilled:new r.Texture(h),PanCooking:new r.Texture(d),PanDone:new r.Texture(u),PanBurned:new r.Texture(g),InsideTilesB:new r.Texture(p),InsideFloorsWalls:new r.Texture(T),Stove:new r.Texture(S),Trashcan:new r.Texture(m),Customer1:new r.Texture(C),CardFrame:new r.Texture(w),Bonk1:new r.Sound(W),RestartButton:new r.Texture(b),WarningSquare:new r.Texture(f),TutorialButton:new r.Texture(k),Door:new r.Texture(v),LevelWin:new r.Sound(y),WorldTiles:new r.Texture(B),CookPop1:new r.Sound(I),CookPop2:new r.Sound(P),CookPop3:new r.Sound(x),CustomerBite:new r.Sound(A),CashRegister:new r.Sound(M),MealBurned:new r.Sound(L),MealDone:new r.Sound(O),PlayerHurt:new r.Sound(_),SwingPan:new r.Sound(D),Trash:new r.Sound(V),NewCustomer:new r.Sound(H)};class E{static get MusicBalloon(){return this.balloonSheet.getSprite(18)}static get MusicBalloonOff(){return this.balloonSheet.getSprite(17)}static get EmptyBalloon(){return this.balloonSheet.getSprite(82)}static get AngryBalloon(){return this.balloonSheet.getSprite(34)}}E.balloonSheet=new r.SpriteSheet({image:R.BalloonIconSheet,rows:11,columns:8,spWidth:16,spHeight:16});class z{static get Heart(){return this.iconSheet.getSprite(1)}static get BlackHeart(){return this.iconSheet.getSprite(2)}static get Skull(){return this.iconSheet.getSprite(6)}static get FlourBag(){return this.iconSheet.getSprite(9)}static get StormCloud(){return this.iconSheet.getSprite(11)}static get SnowFlake(){return this.iconSheet.getSprite(13)}static get RedGem(){return this.iconSheet.getSprite(25)}static get BlueGem(){return this.iconSheet.getSprite(26)}static get YellowGem(){return this.iconSheet.getSprite(27)}static get PurpleGem(){return this.iconSheet.getSprite(28)}static get GreenGem(){return this.iconSheet.getSprite(29)}static get WhiteGem(){return this.iconSheet.getSprite(30)}static get BlackGem(){return this.iconSheet.getSprite(31)}static get GreenLeaf(){return this.iconSheet.getSprite(32)}static get RedLeaf(){return this.iconSheet.getSprite(33)}static get RedPot(){return this.iconSheet.getSprite(34)}static get BluePot(){return this.iconSheet.getSprite(35)}static get YellowPot(){return this.iconSheet.getSprite(36)}static get GreenPot(){return this.iconSheet.getSprite(37)}static get Poison(){return this.iconSheet.getSprite(39)}static get Apple(){return this.iconSheet.getSprite(40)}static get Banana(){return this.iconSheet.getSprite(42)}static get BananaPeel(){return this.iconSheet.getSprite(43)}static get Bread(){return this.iconSheet.getSprite(44)}static get Cheese(){return this.iconSheet.getSprite(45)}static get Drumstick(){return this.iconSheet.getSprite(46)}static get Cookie(){return this.iconSheet.getSprite(47)}static get Burger(){return this.iconSheet.getSprite(48)}static get Fries(){return this.iconSheet.getSprite(49)}static get Hotdog(){return this.iconSheet.getSprite(50)}static get Cheesedog(){return this.iconSheet.getSprite(51)}static get PizzaPlain(){return this.iconSheet.getSprite(52)}static get PizzaToppings(){return this.iconSheet.getSprite(53)}static get Meat(){return this.iconSheet.getSprite(54)}static get EggRaw(){return this.iconSheet.getSprite(55)}static get EggCooked(){return this.iconSheet.getSprite(56)}static get Taco(){return this.iconSheet.getSprite(57)}static get Burrito(){return this.iconSheet.getSprite(58)}static get Ketchup(){return this.iconSheet.getSprite(61)}static get Mayo(){return this.iconSheet.getSprite(62)}static get Relish(){return this.iconSheet.getSprite(63)}static get PieYellow(){return this.iconSheet.getSprite(71)}static get PieRed(){return this.iconSheet.getSprite(72)}static get PiePurple(){return this.iconSheet.getSprite(73)}static get Cake(){return this.iconSheet.getSprite(74)}static get IceCreamCone(){return this.iconSheet.getSprite(75)}static get FreezePopPink(){return this.iconSheet.getSprite(76)}static get FreezePopBlue(){return this.iconSheet.getSprite(77)}static get CandyRed(){return this.iconSheet.getSprite(78)}static get CandyYellow(){return this.iconSheet.getSprite(79)}static get SyringeRed(){return this.iconSheet.getSprite(80)}static get SyringeGreen(){return this.iconSheet.getSprite(81)}static get SyringeBlue(){return this.iconSheet.getSprite(82)}static get SyringePurple(){return this.iconSheet.getSprite(83)}static get SyringeYellow(){return this.iconSheet.getSprite(84)}static get PinkBottle(){return this.iconSheet.getSprite(85)}static get BrownBottle(){return this.iconSheet.getSprite(86)}static get Champagne(){return this.iconSheet.getSprite(87)}static get FlipPhone(){return this.iconSheet.getSprite(88)}static get ToiletPaper(){return this.iconSheet.getSprite(89)}static get FloppyDisk(){return this.iconSheet.getSprite(107)}static get FloppyDiskTilt(){return this.iconSheet.getSprite(108)}static get Trash(){return this.iconSheet.getSprite(109)}static get Salt(){return this.iconSheet.getSprite(110)}static get Sword(){return this.iconSheet.getSprite(112)}static get Branch(){return this.iconSheet.getSprite(113)}static get Bat(){return this.iconSheet.getSprite(114)}static get Axe(){return this.iconSheet.getSprite(115)}static get Snake(){return this.iconSheet.getSprite(116)}static get Staff(){return this.iconSheet.getSprite(117)}static get TennisRacket(){return this.iconSheet.getSprite(118)}static get Bone(){return this.iconSheet.getSprite(126)}static get ChocolateBar(){return this.iconSheet.getSprite(137)}static get Potato(){return this.iconSheet.getSprite(144)}static get CowboyBoots(){return this.iconSheet.getSprite(170)}static get EnergyDrink(){return this.iconSheet.getSprite(68)}static get Starburst(){return this.iconSheet.getSprite(15)}static get Whirlwind(){return this.iconSheet.getSprite(14)}static get Stick(){return this.iconSheet.getSprite(113)}}z.iconSheet=new r.SpriteSheet({image:R.ItemIconSheet,rows:11,columns:16,spWidth:12,spHeight:12});var G,N=i(123);class U{static createUIIcon(e,t,i){let a=new N.Ot({width:this.iconWidth,height:this.iconHeight,pos:(0,r.vec)(t,i)});return a.addDrawing("default",N.f7.getScaledSprite(e,.65)),a}static createUILabel(e,t,i,a){let s=new N.Ot({width:this.iconWidth,height:this.iconHeight,pos:(0,r.vec)(t,i)}),n=new r.Label(e,0,0);return n.fontSize=38,n.maxWidth=a,s.add(n),s}static createUIToggleButton(e,t,i,a){let s=new N.Ot({width:this.iconWidth,height:this.iconHeight,pos:(0,r.vec)(i,a)});return s.addDrawing("on",N.f7.getScaledSprite(e,.7)),s.addDrawing("off",N.f7.getScaledSprite(t,.7)),s}static addLevelUI(e){let t=this.createUIToggleButton(E.MusicBalloon,E.MusicBalloonOff,window.innerWidth-220,50);t.xRelativeTo="center",t.x=220,t.y=50,t.on("pointerup",(i=>{t.scene===ve.CurrentGame.currentScene&&(e.toggleMusic(),ve.muteMusic?t.setDrawing("off"):t.setDrawing("on"))})),e.add(t),ve.muteMusic&&t.setDrawing("off");let i=this.createUIIcon(z.Heart,window.innerWidth-120,50);i.xRelativeTo="center",i.x=300,i.y=50,i.name="hp1",i.addDrawing("hurt",N.f7.getScaledSprite(z.BlackHeart,.65));let r=this.createUIIcon(z.Heart,window.innerWidth-90,50);r.xRelativeTo="center",r.x=330,r.y=50,r.name="hp2",r.addDrawing("hurt",N.f7.getScaledSprite(z.BlackHeart,.65)),r.customActions=()=>{e.player.hp<2&&r.setDrawing("hurt")};let a=this.createUIIcon(z.Heart,window.innerWidth-60,50);a.xRelativeTo="center",a.x=360,a.y=50,a.name="hp3",a.addDrawing("hurt",N.f7.getScaledSprite(z.BlackHeart,.65)),a.customActions=()=>{e.player.hp<3&&r.setDrawing("hurt")},e.add(i),e.add(r),e.add(a);let s=this.createUILabel("Customers Left: ",0,0,140);s.xRelativeTo="center",s.x=270,s.y=130,s.name="feedlabel",e.add(s);let n=new N.yV(50);return n.uiElements.push(t),n.uiElements.push(i),n.uiElements.push(r),n.uiElements.push(a),n.uiElements.push(s),e.add(n),n.reset(),n}static addTutorialButton(e,t){let i=this.createUIIcon(R.TutorialButton.asSprite(),window.innerWidth/2,window.innerHeight/2);i.xRelativeTo="center",i.yRelativeTo="bottom",i.y=-150,i.x=100,i.scale=(0,r.vec)(3,2),e.add(i);let a=new N.yV(50);a.uiElements.push(i),e.add(a),a.reset(),i.on("pointerup",(e=>{i.scene===ve.CurrentGame.currentScene&&(ve.CurrentGame.goToScene(t),console.log("tutorial button clicked"))}))}static addDeathUI(e,t){let i=this.createUIIcon(R.RestartButton.asSprite(),window.innerWidth/2,window.innerHeight/2);i.xRelativeTo="center",i.yRelativeTo="center",i.y=70,i.scale=(0,r.vec)(5,5),e.add(i);let a=new N.yV(50);a.uiElements.push(i),e.add(a),a.reset(),i.on("pointerup",(i=>{ve.CurrentGame.currentScene instanceof Y&&(e.lastLevel.onInitialize(t),t.goToScene(e.lastLevel.levelName))}))}}U.iconWidth=50,U.iconHeight=50;class K extends N.Ot{constructor(){super(...arguments),this.cardTargetWidth=75,this.cardTargetHeight=120,this.ingredientSprites=[]}setRecipe(e){this.cardFrame=R.CardFrame.asSprite(),this.cardFrame.scale=(0,r.vec)(this.cardTargetWidth/this.cardFrame.width,this.cardTargetHeight/this.cardFrame.height),this.resultSprite=N.f7.getScaledSprite(e.resultSprite,.6),e.ingredients.forEach((e=>{this.ingredientSprites.push(N.f7.getScaledSprite(z[e],.6))}))}onPreDraw(e,t){this.cardFrame.draw(e,0,0),this.resultSprite.draw(e,this.cardTargetWidth/2-this.resultSprite.width,5),this.ingredientSprites[0].draw(e,5,50),this.ingredientSprites.length>=2&&this.ingredientSprites[1].draw(e,40,50),this.ingredientSprites.length>=3&&this.ingredientSprites[2].draw(e,5,85),this.ingredientSprites.length>=4&&this.ingredientSprites[3].draw(e,40,85)}}class Y extends r.Scene{onInitialize(e){e.backgroundColor=r.Color.Black,U.addDeathUI(this,e)}onPreUpdate(e){e.backgroundColor=r.Color.Black}}class j extends r.Actor{constructor(){super(...arguments),this.isHeld=!1,this.canBeTrashed=!1}onPreUpdate(e,t){this.isHeld?this.body.collider.type=r.CollisionType.PreventCollision:this.body.collider.type=r.CollisionType.Fixed}}class Z extends j{onInitialize(e){this.canBeTrashed=!0,super.onInitialize(e)}}class q extends r.Actor{get isOccupied(){let e=!1;return this.scene.actors.forEach((t=>{t instanceof Z&&this.body.collider.touching(t.body.collider)&&(e=!0)})),e}}!function(e){e[e.Stove=0]="Stove",e[e.ServingPlate=1]="ServingPlate",e[e.Trashcan=2]="Trashcan"}(G||(G={}));class Q{constructor(e,t,i){this.ingredients=e,this.resultSprite=i,this.resultName=t}ingredientsEqual(e){if(!Array.isArray(this.ingredients)||!Array.isArray(e)||this.ingredients.length!==e.length)return!1;const t=this.ingredients.concat().sort(),i=e.concat().sort();for(let e=0;e<t.length;e++)if(t[e]!==i[e])return!1;return!0}}const $={MonsterPie:new Q(["Poison","FlourBag","Apple"],"MonsterPie",z.PieRed),Taco:new Q(["Meat","Cheese","GreenLeaf"],"Taco",z.Taco),Cookie:new Q(["FlourBag","EggRaw"],"Cookie",z.Cookie),FriedEgg:new Q(["EggRaw"],"FriedEgg",z.EggCooked),Pizza:new Q(["FlourBag","RedPot","Cheese"],"Pizza",z.PizzaPlain),PepperoniPizza:new Q(["FlourBag","RedPot","Meat","Cheese"],"PepperoniPizza",z.PizzaToppings),BananaPie:new Q(["EggRaw","FlourBag","Banana"],"BananaPie",z.PieYellow),SpecialCrunchPie:new Q(["EggRaw","FlourBag","PurpleGem"],"SpecialCrunchPie",z.PiePurple),Burger:new Q(["Meat","Bread","GreenLeaf","Cheese"],"Burger",z.Burger),CrunchyCake:new Q(["EggRaw","FlourBag","YellowPot","Skull"],"CrunchyCake",z.Cake),IceCream:new Q(["YellowPot","EggRaw","WhiteGem"],"IceCream",z.IceCreamCone),Drumstick:new Q(["Stick","Meat","ToiletPaper"],"Drumstick",z.Drumstick),CowboyBoots:new Q(["Poison","SyringeGreen","Meat"],"CowboyBoots",z.CowboyBoots),FlipPhone:new Q(["StormCloud","FloppyDisk","Poison"],"FlipPhone",z.FlipPhone),Hotdog:new Q(["ToiletPaper","Meat","Bread"],"Hotdog",z.Hotdog),Cheesedog:new Q(["Cheese","Meat","Bread"],"Cheesedog",z.Cheesedog),Fries:new Q(["Potato","TennisRacket","Salt"],"Fries",z.Fries),BananaCandy:new Q(["Banana","SyringeYellow","WhiteGem"],"BananaCandy",z.CandyYellow),BluePopsicle:new Q(["BlueGem","BluePot","SyringeBlue"],"BluePopsicle",z.FreezePopBlue),PinkPopsicle:new Q(["RedGem","SyringeRed","BluePot"],"PinkPopsicle",z.FreezePopPink),BananaPeel:new Q(["Banana","Axe","SyringeYellow"],"BananaPeel",z.BananaPeel),EnergyDrink:new Q(["Poison","StormCloud"],"EnergyDrink",z.EnergyDrink)};class J extends r.Actor{constructor(){super(...arguments),this.spriteScale=.9,this.baseSpeed=200}onInitialize(e){let t=new r.SpriteSheet({image:this.sprites,rows:4,columns:3,spWidth:this.sprites.width/3,spHeight:this.sprites.height/4});this.setZIndex(1e3),this.addDrawing("standDown",N.f7.getScaledSprite(t.getSprite(1),this.spriteScale)),this.addDrawing("standLeft",N.f7.getScaledSprite(t.getSprite(4),this.spriteScale)),this.addDrawing("standRight",N.f7.getScaledSprite(t.getSprite(7),this.spriteScale)),this.addDrawing("standUp",N.f7.getScaledSprite(t.getSprite(10),this.spriteScale)),this.addDrawing("walkDown",N.f7.getScaledAnimation(e,t,0,3,this.spriteScale)),this.addDrawing("walkLeft",N.f7.getScaledAnimation(e,t,3,6,this.spriteScale)),this.addDrawing("walkRight",N.f7.getScaledAnimation(e,t,6,9,this.spriteScale)),this.addDrawing("walkUp",N.f7.getScaledAnimation(e,t,9,11,this.spriteScale))}onPreUpdate(e,t){if(this.doFacing(),0===this.vel.x&&0===this.vel.y)switch(this.facing){case"l":this.setDrawing("standLeft");break;case"r":this.setDrawing("standRight");break;case"u":this.setDrawing("standUp");break;case"d":this.setDrawing("standDown")}else switch(this.facing){case"l":this.setDrawing("walkLeft");break;case"r":this.setDrawing("walkRight");break;case"u":this.setDrawing("walkUp");break;case"d":this.setDrawing("walkDown")}}doFacing(){this.vel.y>0?this.facing="d":this.vel.x<0?this.facing="l":this.vel.x>0?this.facing="r":this.vel.y<0&&(this.facing="u")}getFacingTargetPos(e){let t=0,i=0;switch(this.facing){case"l":t-=ne.tileWidth*e;break;case"r":t+=ne.tileWidth*e;break;case"u":i-=ne.tileHeight*e;break;case"d":i+=ne.tileHeight*e}return(0,r.vec)(this.pos.x+t,this.pos.y+i)}}class X extends J{constructor(){super(...arguments),this.speed=160,this.isHappy=!1,this.tickSpeed=100}get isAttacking(){return this.timeElapsed>=this.attackTime}onInitialize(e){this.sprites=R.Customer1,super.onInitialize(e),this.initialPosition=this.pos.clone(),this.wantsBalloon=N.f7.getScaledSprite(E.EmptyBalloon,.8),this.wantsSprite=N.f7.getScaledSprite(this.wantsMeal.resultSprite.clone(),.7),this.grumpyBubble=N.f7.getScaledSprite(E.AngryBalloon,.8)}onPreDraw(e,t){if(!this.isAttacking&&!this.isHappy){let t=!1;this.timeElapsed>=this.frustratedTime&&(t=this.timeElapsed%1e3>500),t?this.grumpyBubble.draw(e,0,-50):(this.wantsBalloon.draw(e,0,-50),this.wantsSprite.draw(e,0,-50))}}walkToSeat(){let e=this.actions.moveTo(this.seat.pos.x,this.seat.pos.y,this.speed).asPromise();this.timeElapsed=0,e.then((()=>{ve.debugMode&&console.log("customer arrived at seat"),this.facing=this.seat.facing,this.mealCheckPos=this.getFacingTargetPos(.5),this.actionTimer=new ee({interval:this.tickSpeed,fcn:this.routine,repeats:!0}),this.actionTimer.customer=this,this.scene.add(this.actionTimer)}))}leaveHappy(){this.isHappy=!0;let e=this.scene;e.nextLevel?e.customersToServe--:e.customersToServe++,R.CustomerBite.play().then((()=>{R.CashRegister.play().then((()=>{this.actions.moveTo(this.initialPosition.x,this.initialPosition.y,this.speed).asPromise().then((()=>{this.kill()}))}))}))}routine(){let e=this;if(e){if(e.customer.isKilled())return void e.cancel();if(e.customer.isAttacking){let t=e.customer.scene.player;0===e.customer.actionQueue.getActions().filter((e=>!e.isComplete)).length&&e.customer.actions.moveTo(t.pos.x,t.pos.y,e.customer.speed),e.customer.pos.distance(t.pos)<=50&&e.customer.isAttacking&&(t.hurt(),R.CustomerBite.isPlaying()||R.CustomerBite.play())}else{let t=[],i=!1,r=e.customer.mealCheckPos.x-ne.tileWidth/2,a=e.customer.mealCheckPos.y-ne.tileHeight/2,s=15;for(;!i;)t=e.customer.scene.actors.filter((t=>t instanceof Z&&t.name===e.customer.wantsMeal.resultName&&!t.isHeld&&t.contains(r,a))),t.length>0?i=!0:r<=e.customer.mealCheckPos.x+ne.tileWidth/2?r+=s:a<=e.customer.mealCheckPos.y+ne.tileHeight/2?(r=e.customer.mealCheckPos.x-ne.tileWidth/2,a+=s):i=!0;t.length>0?(t[0].kill(),e.scene.removeCustomer(e.customer),e.customer.leaveHappy()):e.customer.timeElapsed+=e.customer.tickSpeed}}}}class ee extends r.Timer{}class te extends j{onInitialize(e){this.canBeTrashed=!0,super.onInitialize(e)}}class ie extends r.Actor{setupSpawner(e,t){this._ingredientName=e,this._ingredientSprite=t,this.spawnIngredient(),this.body.collider.on("collisionend",(e=>{e.other.body.actor instanceof j&&(this.newItemTimer||(this.newItemTimer=new re({interval:5e3,repeats:!1,fcn:this.spawnIngredient}),this.newItemTimer.spawner=this,this.scene.add(this.newItemTimer)),this.newItemTimer.reset())}))}spawnIngredient(){if(this instanceof re){let e=this.spawner;0===e.scene.actors.filter((t=>t.contains(e.pos.x,e.pos.y)&&t instanceof j)).length&&(ne.createIngredientAtPosition(this.spawner.scene,this.spawner._ingredientSprite.clone(),this.spawner._ingredientName,this.spawner.pos.x,this.spawner.pos.y),R.CookPop1.play(.75))}else ne.createIngredientAtPosition(this.scene,this._ingredientSprite.clone(),this._ingredientName,this.pos.x,this.pos.y)}}class re extends r.Timer{}class ae extends j{constructor(){super(...arguments),this.cookTimeMultiplier=3e3,this.isOnStove=!1,this.ingredients=[],this.isAttacking=!1,this.cookTime=0,this.isDone=!1,this.isBurned=!1,this.cookingSounds=[R.CookPop1,R.CookPop2,R.CookPop3],this.soundDelay=0,this.burnTimeMultiplier=3}onPreDraw(e,t){if(0===this.cookTime)for(let t=0;t<this.ingredients.length;t++){let i=z[this.ingredients[t]];i.scale=(0,r.vec)(1.5,1.5),i.draw(e,16*t,-9)}else if(!this.isDone&&this.isOnStove){N.f7.drawLine(e,(0,r.vec)(0,-6),(0,r.vec)(this.width,-6),6,"#666666");let t=this.cookTime/(this.ingredients.length*this.cookTimeMultiplier),i=(0,r.vec)(0,-6),a=(0,r.vec)(t*this.width,-6);N.f7.drawLine(e,i,a,6,"#00ff00")}else if(!this.isBurned&&this.isOnStove){N.f7.drawLine(e,(0,r.vec)(0,-6),(0,r.vec)(this.width,-6),6,"#00ff00");let t=this.ingredients.length*this.cookTimeMultiplier,i=(this.cookTime-t)/(this.ingredients.length*this.cookTimeMultiplier*this.burnTimeMultiplier-t),a=(0,r.vec)(0,-6),s=(0,r.vec)(i*this.width,-6);N.f7.drawLine(e,a,s,6,"#ff0000")}}onInitialize(e){super.onInitialize(e),this.body.collider.type=r.CollisionType.Passive,this.body.collider.shape=r.Shape.Box(ne.tileHeight,ne.tileHeight),this.body.collider.on("precollision",(e=>{let t=e.other.body.actor;if(this.isAttacking){if(this.ingredients.length>0&&t instanceof q&&t.applianceType===G.ServingPlate&&this.isDone&&!t.isOccupied){let e;for(let t in $)$[t].ingredientsEqual(this.ingredients)&&(e=$[t]);e&&!this.isBurned?ne.createMeal(this.scene,e.resultSprite,e.resultName,t.pos):ne.createMeal(this.scene,z.Trash,"inedible mush",t.pos),this.reset()}this.ingredients.length>0&&t instanceof q&&t.applianceType===G.Trashcan&&this.reset()}t instanceof X&&this.isAttacking&&t.isAttacking&&(this.scene.removeCustomer(t),R.Bonk1.play(.3),t.kill(),this.reset())}))}tickCook(e){let t=this.scene.actors.filter((e=>e instanceof q&&e.applianceType===G.Stove&&this.body.collider.collide(e.body.collider)&&this.ingredients.length>0&&!1===this.isHeld));if(t.length>0){let i=this.scene.actors.filter((e=>e instanceof ae&&e!=this)),r=!1;if(t.forEach((e=>{let t=!0;i.forEach((i=>{e.contains(i.pos.x,i.pos.y)&&(t=!1)})),t&&(this.pos=e.pos.clone(),r=!0)})),!r)return;if(this.isOnStove=!0,this.cookTime+=e,!this.isDone&&this.soundDelay<=0){let e=Math.floor(Math.random()*this.cookingSounds.length);this.cookingSounds[e].play(.1),this.soundDelay=100}else this.soundDelay>0&&(this.soundDelay-=e);!this.isDone&&this.cookTime>this.ingredients.length*this.cookTimeMultiplier&&(this.isDone=!0,R.MealDone.play()),this.isDone&&!this.isBurned&&this.cookTime>this.ingredients.length*this.cookTimeMultiplier*this.burnTimeMultiplier&&(this.isBurned=!0,R.MealBurned.play())}else this.isOnStove=!1}reset(){this.ingredients=[],this.isBurned=!1,this.isDone=!1,this.cookTime=0}onPreUpdate(e,t){this.tickCook(t),this.isAttacking?this.attackAnimation.isDone()&&(this.isAttacking=!1):this.isBurned?this.setDrawing("burned"):this.isDone?this.setDrawing("done"):this.cookTime>0&&this.isOnStove?this.setDrawing("cooking"):this.ingredients.length>0?this.setDrawing("filled"):this.setDrawing("empty")}attack(e,t){switch(this.isAttacking=!0,this.pos=e,this.setDrawing("attack"),R.SwingPan.play(),t){case"r":this.attackAnimation.flipHorizontal=!0;break;default:this.attackAnimation.flipHorizontal=!1}}}class se{static get CounterVerticalFull(){return this.iconSheet.getSprite(16)}static get CounterCornerBottomLeft(){return this.iconSheet.getSprite(17)}static get CounterBottomCentral(){return this.iconSheet.getSprite(18)}static get CounterBottomCornerRight(){return this.iconSheet.getSprite(19)}static get CounterStandalone(){return this.iconSheet.getSprite(32)}static get CounterCornerTopLeft(){return this.iconSheet.getSprite(33)}static get CounterMiddleFull(){return this.iconSheet.getSprite(34)}static get CounterCornerTopRight(){return this.iconSheet.getSprite(35)}static get CounterFaceStandalone(){return this.iconSheet.getSprite(48)}static get CounterFaceLeft(){return this.iconSheet.getSprite(49)}static get CounterFaceCenter(){return this.iconSheet.getSprite(50)}static get CounterFaceRight(){return this.iconSheet.getSprite(51)}static get Table_V_TopSmall(){return this.iconSheet.getSprite(88)}static get Table_H_TopLeft(){return this.iconSheet.getSprite(89)}static get Table_H_TopMid(){return this.iconSheet.getSprite(90)}static get Table_H_TopRight(){return this.iconSheet.getSprite(91)}static get Table_V_TopLarge(){return this.iconSheet.getSprite(104)}static get Table_H_BottomLeftLeg(){return this.iconSheet.getSprite(105)}static get Table_H_BottomMidNoLeg(){return this.iconSheet.getSprite(106)}static get Table_H_BottomRightLeg(){return this.iconSheet.getSprite(107)}static get Table_V_Mid(){return this.iconSheet.getSprite(120)}static get StoolTopRed(){return this.iconSheet.getSprite(121)}static get Table_V_BottomLeg(){return this.iconSheet.getSprite(136)}static get Table_H_MidLeg(){return this.iconSheet.getSprite(136)}static get StoolBottomRed(){return this.iconSheet.getSprite(137)}static get StoolTopGrey(){return this.iconSheet.getSprite(153)}static get StoolBottomGrey(){return this.iconSheet.getSprite(169)}static get RedStool(){return this.iconSheet.getSprite(152)}static get GreyStool(){return this.iconSheet.getSprite(168)}static get TrashCanTopLid(){return this.iconSheet.getSprite(172)}static get TrashCanTopEmpty(){return this.iconSheet.getSprite(173)}static get TrashCanTopTrash(){return this.iconSheet.getSprite(174)}static get TrashCanTopBag(){return this.iconSheet.getSprite(175)}static get TrashCanBottom(){return this.iconSheet.getSprite(188)}static get Tray(){return this.iconSheet.getSprite(110)}}se.iconSheet=new r.SpriteSheet({image:R.InsideTilesB,rows:16,columns:16,spWidth:16,spHeight:16});class ne{static createLabelAcrossTiles(e,t,i,a,s,n){let l=new r.Label(t,i*this.tileWidth,a*this.tileHeight);return l.maxWidth=s*this.tileWidth,l.textAlign=r.TextAlign.Center,l.color=n,l.fontSize=20,e.add(l),l}static createWallTile(e,t,i,r){return this.createTile(e,t,i,r,!0,1)}static createBackgroundTile(e,t,i,r){return this.createTile(e,t,i,r,!1,-1)}static createSeat(e,t,i,r,a){let s=this.createTile(e,t,r,a,!1,-1);return s.facing=i,s}static createTile(e,t,i,a,s,n){let l=new r.Actor({scene:e,width:this.tileWidth,height:this.tileHeight,pos:(0,r.vec)(i*this.tileWidth,a*this.tileHeight)});if(t instanceof r.Color)l.color=t;else{let e=this.tileWidth/t.width,i=this.tileHeight/t.height;t.scale=(0,r.vec)(e,i),l.addDrawing(t)}return e.add(l),l.setZIndex(n),s&&(l.body.collider.type=r.CollisionType.Fixed),l}static createIngrediantSpawnerOnTile(e,t,i,a,s){ve.debugMode&&console.log("adding spawner for: "+a);let n=new ie({scene:e,width:this.tileWidth,height:this.tileHeight,pos:(0,r.vec)(t*this.tileWidth,i*this.tileHeight)});if(s){let e=this.tileWidth/s.width,t=this.tileHeight/s.height;s.scale=(0,r.vec)(e,t),n.addDrawing(s)}return n.setupSpawner(a,z[a]),e.add(n),n}static createIngredientAtPosition(e,t,i,a,s){const n=.75;let l=new te({scene:e,width:this.tileWidth,height:this.tileHeight,pos:(0,r.vec)(a,s)});e.add(l),l.setZIndex(40);let o=N.f7.getScaledSprite(t,n);return l.addDrawing(o),l.name=i,l.body.collider.shape=r.Shape.Box(l.width*n,l.height*n),l.body.collider.type=r.CollisionType.Fixed,l}static createIngredientOnTile(e,t,i,r,a){let s=r*this.tileWidth,n=a*this.tileHeight;return this.createIngredientAtPosition(e,t,i,s,n)}static createMeal(e,t,i,a){let s=new Z({scene:e,width:this.tileWidth,height:this.tileHeight,pos:a});e.add(s),s.setZIndex(40);let n=N.f7.getScaledSprite(t,.8);return s.addDrawing(n),s.name=i,s.body.collider.shape=r.Shape.Box(.8*s.width,.8*s.height),s.body.collider.type=r.CollisionType.Fixed,s}static createApplianceOnTile(e,t,i,a){const s=.75;let n,l=new q({scene:e,width:this.tileWidth,height:this.tileHeight,pos:(0,r.vec)(i*this.tileWidth,a*this.tileHeight)});switch(t){case G.Stove:n=R.Stove.asSprite();break;case G.ServingPlate:n=se.Tray;break;case G.Trashcan:n=R.Trashcan.asSprite(),l.body.collider.shape=r.Shape.Box(l.width*s,l.height*s),l.body.collider.type=r.CollisionType.Fixed;break;default:throw new Error("unsupported appliance type: "+t)}e.add(l),l.setZIndex(40);let o=N.f7.getScaledSprite(n,s);return l.addDrawing(o),l.applianceType=t,l}static createPanOnTile(e,t,i,a){const s=.75;let n=new ae({scene:e,width:this.tileWidth,height:this.tileHeight,pos:(0,r.vec)(i*this.tileWidth,a*this.tileHeight)});e.add(n),n.setZIndex(35);let l=new r.SpriteSheet({image:R.PanAttack,rows:1,columns:3,spWidth:18,spHeight:18}),o=N.f7.getScaledAnimation(t,l,0,3,s,150);o.loop=!1,n.attackAnimation=o;let c=N.f7.getScaledSprite(R.PanEmpty.asSprite(),s),h=N.f7.getScaledSprite(R.PanFilled.asSprite(),s),d=N.f7.getScaledSprite(R.PanDone.asSprite(),s),u=N.f7.getScaledSprite(R.PanBurned.asSprite(),s),g=new r.SpriteSheet({image:R.PanCooking,rows:1,columns:3,spWidth:18,spHeight:9}),p=N.f7.getScaledAnimation(t,g,0,3,s,50);return n.addDrawing("empty",c),n.addDrawing("filled",h),n.addDrawing("attack",o),n.addDrawing("cooking",p),n.addDrawing("burned",u),n.addDrawing("done",d),n}static createCustomer(e,t){let i=new X({scene:e,width:this.tileWidth,height:this.tileHeight,pos:t});return e.add(i),i.setZIndex(40),i}}ne.tileWidth=50,ne.tileHeight=50;class le extends J{constructor(){super({pos:(0,r.vec)(150,150),width:25,height:25,color:new r.Color(100,255,100)}),this.spriteScale=.9,this.hitboxScale=.8,this.immunityTime=0,this.boostTime=0,this.hp=3}onInitialize(e){this.sprites=R.PlayerSprites,this.body.collider.type=r.CollisionType.Active,this.body.collider.shape=r.Shape.Box(ne.tileHeight*this.hitboxScale,ne.tileHeight*this.hitboxScale),super.onInitialize(e),this.movementHelper=new N.eP(this,this.baseSpeed,[r.Input.Keys.W,r.Input.Keys.Up],[r.Input.Keys.S,r.Input.Keys.Down],[r.Input.Keys.A,r.Input.Keys.Left],[r.Input.Keys.D,r.Input.Keys.Right])}hurt(){if(this.immunityTime<=0&&(this.immunityTime=1e3,this.hp-=1,this.actions.blink(40,10,this.immunityTime/50),R.PlayerHurt.play(),this.hp<=0)){let e=ve.CurrentGame.scenes.death;e instanceof Y&&(e.lastLevel=this.scene,ve.CurrentGame.goToScene("death"))}}onPreDraw(e,t){this.boostTime>0&&N.f7.drawLine(e,(0,r.vec)(0,this.height+20),(0,r.vec)(this.boostTime/500,this.height+20),6,"#00FFFF")}onPreUpdate(e,t){this.boostTime>0&&(this.boostTime-=t),super.onPreUpdate(e,t),this.immunityTime>0&&(this.immunityTime-=t);let i=!1;if(this.heldItem instanceof ae&&(i=this.heldItem.isAttacking),i?this.vel=(0,r.vec)(0,0):(this.doMovement(e),this.doFacing()),i||(this.heldItem&&(this.heldItem.pos=(0,r.vec)(this.pos.x,this.pos.y-40)),e.input.keyboard.wasPressed(r.Input.Keys.Space)&&(this.heldItem?this.trySetDownItem():this.tryPickupItem()),e.input.keyboard.wasPressed(r.Input.Keys.E)&&(this.heldItem instanceof ae&&this.heldItem.attack(this.getFacingTargetPos(.7),this.facing),this.heldItem instanceof Z&&"inedible mush"!=this.heldItem.name&&(this.boostTime+=5e3*$[this.heldItem.name].ingredients.length,this.heldItem.kill(),this.heldItem=null,R.CustomerBite.play())),e.input.keyboard.wasPressed(r.Input.Keys.Q)&&this.examine()),e.input.keyboard.wasPressed(r.Input.Keys.Semicolon)){let t=prompt("goto level","level_");t&&e.goToScene(t)}e.input.keyboard.wasPressed(r.Input.Keys.L)&&this.hurt()}doMovement(e){this.vel=this.movementHelper.GetVelocityKeyboard(e)}trySetDownItem(){let e=this.getFacingTargetPos(1);if(this.scene.actors.filter((t=>t instanceof q&&t.applianceType===G.Trashcan&&t.contains(e.x,e.y))).length>0&&this.heldItem.canBeTrashed)return this.heldItem.kill(),this.heldItem=null,void R.Trash.play();let t=this.scene.actors.filter((t=>t instanceof ae&&0===t.cookTime&&t.contains(e.x,e.y)));if(this.heldItem instanceof te&&t.length>0){let e=t[0];e.ingredients.length<4&&(e.ingredients.push(this.heldItem.name),this.heldItem.kill(),this.heldItem=null,R.CookPop3.play(.45))}else{0===this.scene.actors.filter((t=>(t instanceof j||t instanceof ae)&&!(t===this.heldItem)&&t.contains(e.x,e.y))).length&&(this.heldItem.pos=e,this.heldItem.isHeld=!1,this.heldItem=null)}}tryPickupItem(){[this.getFacingTargetPos(.55),this.getFacingTargetPos(.25),this.getFacingTargetPos(.75)].forEach((e=>{var t=this.scene.actors.filter((t=>t instanceof j&&t.contains(e.x,e.y)));if(t.length>0)return this.heldItem=t[0],void(this.heldItem.isHeld=!0)}))}examine(){let e=this.getFacingTargetPos(.55);let t=this.scene.actors.filter((t=>(t instanceof j||t instanceof q)&&t.contains(e.x,e.y)))[0];t&&(t instanceof ae&&alert("Pan with contents: "+JSON.stringify(t.ingredients)),t instanceof te&&alert("Ingredient: "+t.name),t instanceof q&&alert("Appliance: "+t.applianceType),t instanceof Z&&alert("Meal: "+t.name))}}class oe extends r.Scene{constructor(){super(...arguments),this.uiInitialized=!1,this.suppressBorder=!1,this.customerSeats=[],this.doors=[],this.customers=[],this.customerSpawnSpeed=8e3,this.customerFrustratedTime=1e4,this.customerAttackTime=25e3,this.isTutorial=!1}removeCustomer(e){this.customers=this.customers.filter((t=>t!=e))}onDeactivate(e,t){super.onDeactivate(e,t),this.musicTrack.stop()}onInitialize(e){this.actors.forEach((e=>{e.kill(),this.remove(e)})),this.uiInitialized||(this.uiTimer=U.addLevelUI(this),this.uiInitialized=!0),this.customersToServe=this.initialCustomersToServe,this.player=new le,this.add(this.player),this.camera.strategy.lockToActor(this.player),this.musicTrack=R.LevelLoop1,this.musicTrack.loop=!0,ve.muteMusic||this.musicTrack.play(.3),this.suppressBorder||this.createLevelBorder(),this.addBackgroundTiles(),this.addForegroundTiles(),this.addAppliances(),this.addPans(e),this.addItems(),this.addSeatsAndDoors();for(let e=0;e<this.availableMeals.length;e++){ve.debugMode&&console.log("adding card for "+this.availableMeals[e].resultName);let t=new K;t.x=25+-100*e,t.y=50,t.xRelativeTo="center",t.setRecipe(this.availableMeals[e]),this.uiTimer.uiElements.push(t),this.add(t)}e.backgroundColor=new r.Color(245,242,254)}onPreUpdate(e,t){if(this.customers.length<this.customerSeats.length){ve.debugMode&&console.log("Found "+(this.customerSeats.length-this.customers.length)+" empty seats");let t=this.customerSpawnSpeed/3,i=this.customerSpawnSpeed*(4/3),r=t+Math.random()*i,a=Math.floor(Math.random()*this.doors.length),s=this.doors[a],n=ne.createCustomer(this,s.pos),l=this.customerSeats.filter((e=>!this.customers.some((t=>t.seat===e))))[0];n.seat=l,n.visible=!1;let o=Math.floor(Math.random()*this.availableMeals.length);n.wantsMeal=this.availableMeals[o],n.frustratedTime=this.customerFrustratedTime,n.attackTime=this.customerAttackTime,this.customers.push(n);let c=new ce({interval:r,repeats:!1,fcn:this.spawnCustomer});c.level=this,c.customer=n,this.add(c),null!=this.nextLevel&&this.customersToServe<=0&&(this.musicTrack.stop(),R.LevelWin.play(1).then((()=>{e.goToScene(this.nextLevel)})))}}createLevelBorder(){let e=R.WarningSquare.asSprite();for(let t=0;t<=this.borderWidth;t++)ne.createWallTile(this,e,t,0),ne.createWallTile(this,e,t,this.borderHeight);for(let t=0;t<this.borderHeight;t++)ne.createWallTile(this,e,0,t),ne.createWallTile(this,e,this.borderWidth,t)}toggleMusic(){ve.muteMusic=!ve.muteMusic,ve.muteMusic?this.musicTrack.stop():this.musicTrack.play()}spawnCustomer(){let e=this;e&&(e.level.add(e.customer),e.customer.walkToSeat(),e.customer.visible=!0,R.NewCustomer.play())}}class ce extends r.Timer{}class he extends oe{constructor(){super(...arguments),this.nextLevel=this.levelName,this.borderWidth=15,this.borderHeight=20,this.availableMeals=[$.FriedEgg],this.customerFrustratedTime=1e3,this.customerAttackTime=3e3,this.customerSpawnSpeed=1,this.levelName="level_test",this.initialCustomersToServe=9001}onInitialize(e){super.onInitialize(e),alert("Controls:\nWASD - Movement\nSpace - Pick up/put down\nE - Swing pan\nQ - Examine\n\nSwing a pan with cooked food (yellow) or burned food (red/grey) onto the brown serving tray to create a meal. Serve meals to customers.")}addBackgroundTiles(){ne.createBackgroundTile(this,se.CounterFaceLeft,5,9),ne.createBackgroundTile(this,se.CounterFaceCenter,6,9),ne.createBackgroundTile(this,se.CounterFaceCenter,7,9),ne.createBackgroundTile(this,se.CounterFaceCenter,8,9),ne.createBackgroundTile(this,se.CounterFaceRight,9,9),ne.createBackgroundTile(this,se.Table_V_BottomLeg,6,12),ne.createBackgroundTile(this,se.Table_V_BottomLeg,8,12),ne.createBackgroundTile(this,se.Table_V_BottomLeg,10,12)}addForegroundTiles(){ne.createWallTile(this,se.CounterVerticalFull,5,5),ne.createWallTile(this,se.CounterVerticalFull,5,6),ne.createWallTile(this,se.CounterVerticalFull,5,7),ne.createWallTile(this,se.CounterCornerBottomLeft,5,8),ne.createWallTile(this,se.CounterVerticalFull,9,5),ne.createWallTile(this,se.CounterVerticalFull,9,6),ne.createWallTile(this,se.CounterVerticalFull,9,7),ne.createWallTile(this,se.CounterBottomCornerRight,9,8),ne.createWallTile(this,se.CounterBottomCentral,6,8),ne.createWallTile(this,se.CounterBottomCentral,7,8),ne.createWallTile(this,se.CounterBottomCentral,8,8),ne.createWallTile(this,se.Table_V_TopLarge,6,11),ne.createWallTile(this,se.Table_V_TopLarge,8,11),ne.createWallTile(this,se.Table_V_TopLarge,10,11)}addAppliances(){ne.createApplianceOnTile(this,G.Stove,9,7),ne.createApplianceOnTile(this,G.ServingPlate,9,5),ne.createApplianceOnTile(this,G.Trashcan,7,4)}addPans(e){ne.createPanOnTile(this,e,7,8),ne.createPanOnTile(this,e,2,4)}addItems(){ne.createIngrediantSpawnerOnTile(this,8,8,"Apple"),ne.createIngrediantSpawnerOnTile(this,5,5,"FlourBag"),ne.createIngrediantSpawnerOnTile(this,5,6,"Banana"),ne.createIngrediantSpawnerOnTile(this,5,7,"Poison"),ne.createIngrediantSpawnerOnTile(this,9,6,"EggRaw")}addSeatsAndDoors(){this.customerSeats.push(ne.createSeat(this,se.RedStool,"r",5,11.5)),this.doors.push(ne.createWallTile(this,R.Bag.asSprite(),3,12)),this.doors.push(ne.createWallTile(this,R.Bag.asSprite(),14,14))}}class de extends oe{constructor(){super(...arguments),this.levelName="level_testray",this.initialCustomersToServe=9001}addBackgroundTiles(){ne.createBackgroundTile(this,se.CounterFaceLeft,5,9),ne.createBackgroundTile(this,se.CounterFaceCenter,6,9),ne.createBackgroundTile(this,se.CounterFaceCenter,7,9),ne.createBackgroundTile(this,se.CounterFaceCenter,8,9),ne.createBackgroundTile(this,se.CounterFaceRight,9,9)}addForegroundTiles(){let e=new r.Color(200,200,200);ne.createWallTile(this,e,1,1),ne.createWallTile(this,e,1,3),ne.createWallTile(this,e,2,2),ne.createWallTile(this,e,2,4),ne.createWallTile(this,se.StoolTopRed,1,7),ne.createWallTile(this,se.StoolTopGrey,2,7),ne.createWallTile(this,se.StoolTopRed,3,7),ne.createWallTile(this,se.Table_H_TopLeft,1,8),ne.createWallTile(this,se.Table_H_TopMid,2,8),ne.createWallTile(this,se.Table_H_TopRight,3,8),ne.createWallTile(this,se.Table_H_BottomLeftLeg,1,9),ne.createWallTile(this,se.Table_H_BottomMidNoLeg,2,9),ne.createWallTile(this,se.Table_H_BottomRightLeg,3,9),ne.createWallTile(this,se.GreyStool,1,10),ne.createWallTile(this,se.RedStool,2,10),ne.createWallTile(this,se.GreyStool,3,10),ne.createWallTile(this,se.TrashCanTopEmpty,4,4),ne.createWallTile(this,se.TrashCanBottom,4,5),ne.createWallTile(this,se.CounterVerticalFull,5,5),ne.createWallTile(this,se.CounterVerticalFull,5,6),ne.createWallTile(this,se.CounterVerticalFull,5,7),ne.createWallTile(this,se.CounterCornerBottomLeft,5,8),ne.createWallTile(this,se.TrashCanTopLid,10,4),ne.createWallTile(this,se.TrashCanBottom,10,5),ne.createWallTile(this,se.CounterVerticalFull,9,5),ne.createWallTile(this,se.CounterVerticalFull,9,6),ne.createWallTile(this,se.CounterVerticalFull,9,7),ne.createWallTile(this,se.CounterBottomCornerRight,9,8),ne.createWallTile(this,se.CounterBottomCentral,6,8),ne.createWallTile(this,se.CounterBottomCentral,7,8),ne.createWallTile(this,se.CounterBottomCentral,8,8)}addAppliances(){ne.createApplianceOnTile(this,G.Stove,9,7),ne.createApplianceOnTile(this,G.ServingPlate,9,5)}addPans(e){ne.createPanOnTile(this,e,7,8),ne.createPanOnTile(this,e,2,4)}addItems(){ne.createIngrediantSpawnerOnTile(this,8,8,"apple",z.Apple),ne.createIngrediantSpawnerOnTile(this,5,5,"flour",z.FlourBag),ne.createIngrediantSpawnerOnTile(this,5,6,"mayo",z.Mayo),ne.createIngrediantSpawnerOnTile(this,5,7,"poison",z.Poison),ne.createIngrediantSpawnerOnTile(this,9,6,"skull",z.Skull)}addSeatsAndDoors(){throw new Error("not implimented")}}class ue extends oe{constructor(){super(...arguments),this.nextLevel="level_2",this.borderWidth=10,this.borderHeight=10,this.availableMeals=[$.FriedEgg,$.Cookie,$.MonsterPie],this.levelName="level_1",this.customerFrustratedTime=45e3,this.customerAttackTime=65e3,this.customerSpawnSpeed=18e3,this.initialCustomersToServe=5}addSeatsAndDoors(){this.customerSeats.push(ne.createSeat(this,se.RedStool,"u",4,8)),this.customerSeats.push(ne.createSeat(this,se.RedStool,"u",6,8)),this.doors.push(ne.createWallTile(this,R.Door.asSprite(),10,9))}addBackgroundTiles(){ne.createBackgroundTile(this,se.Table_V_BottomLeg,4,8),ne.createBackgroundTile(this,se.Table_V_BottomLeg,6,8),ne.createBackgroundTile(this,se.CounterFaceCenter,1,5),ne.createBackgroundTile(this,se.CounterFaceCenter,2,5),ne.createBackgroundTile(this,se.CounterFaceCenter,3,5),ne.createBackgroundTile(this,se.CounterFaceCenter,4,5),ne.createBackgroundTile(this,se.CounterFaceCenter,5,5),ne.createBackgroundTile(this,se.CounterFaceRight,6,5),ne.createBackgroundTile(this,se.CounterFaceStandalone,9,7)}addForegroundTiles(){ne.createWallTile(this,se.Table_V_TopLarge,4,7),ne.createWallTile(this,se.Table_V_TopLarge,6,7),ne.createWallTile(this,se.CounterVerticalFull,1,1),ne.createWallTile(this,se.CounterVerticalFull,1,2),ne.createWallTile(this,se.CounterVerticalFull,1,3),ne.createWallTile(this,se.CounterCornerBottomLeft,1,4),ne.createWallTile(this,se.CounterBottomCentral,2,4),ne.createWallTile(this,se.CounterBottomCentral,3,4),ne.createWallTile(this,se.CounterBottomCentral,4,4),ne.createWallTile(this,se.CounterBottomCentral,5,4),ne.createWallTile(this,se.CounterBottomCornerRight,6,4),ne.createWallTile(this,se.CounterStandalone,6,3),ne.createWallTile(this,se.CounterStandalone,9,2),ne.createWallTile(this,se.CounterVerticalFull,9,3),ne.createWallTile(this,se.CounterVerticalFull,9,4),ne.createWallTile(this,se.CounterVerticalFull,9,5),ne.createWallTile(this,se.CounterVerticalFull,9,6)}addAppliances(){ne.createApplianceOnTile(this,G.Stove,9,2.5),ne.createApplianceOnTile(this,G.Stove,9,3.3),ne.createApplianceOnTile(this,G.ServingPlate,9,5),ne.createApplianceOnTile(this,G.ServingPlate,9,6),ne.createApplianceOnTile(this,G.Trashcan,4,1)}addPans(e){ne.createPanOnTile(this,e,1,1),ne.createPanOnTile(this,e,1,2),ne.createPanOnTile(this,e,1,3)}addItems(){ne.createIngrediantSpawnerOnTile(this,2,4,"FlourBag"),ne.createIngrediantSpawnerOnTile(this,3,4,"Apple"),ne.createIngrediantSpawnerOnTile(this,4,4,"EggRaw"),ne.createIngrediantSpawnerOnTile(this,5,4,"Poison")}onInitialize(e){super.onInitialize(e)}}class ge extends ue{constructor(){super(...arguments),this.levelName="level_1a",this.availableMeals=[$.BananaPie,$.BananaCandy,$.Cookie],this.customerFrustratedTime=45e3,this.customerAttackTime=63e3,this.customerSpawnSpeed=15e3,this.nextLevel="level_2a",this.initialCustomersToServe=10}addItems(){ne.createIngrediantSpawnerOnTile(this,2,4,"FlourBag"),ne.createIngrediantSpawnerOnTile(this,3,4,"Banana"),ne.createIngrediantSpawnerOnTile(this,4,4,"EggRaw"),ne.createIngrediantSpawnerOnTile(this,5,4,"SyringeYellow"),ne.createIngrediantSpawnerOnTile(this,6,3,"WhiteGem")}}class pe extends ue{constructor(){super(...arguments),this.levelName="level_1b",this.availableMeals=[$.Taco,$.Pizza,$.PepperoniPizza],this.customerSpawnSpeed=1e4,this.nextLevel="level_2b",this.customerFrustratedTime=4e4,this.customerAttackTime=5e4,this.initialCustomersToServe=12}addItems(){ne.createIngrediantSpawnerOnTile(this,2,4,"FlourBag"),ne.createIngrediantSpawnerOnTile(this,3,4,"Meat"),ne.createIngrediantSpawnerOnTile(this,4,4,"GreenLeaf"),ne.createIngrediantSpawnerOnTile(this,5,4,"Cheese"),ne.createIngrediantSpawnerOnTile(this,6,3,"RedPot")}}class Te extends oe{constructor(){super(...arguments),this.nextLevel="level_3",this.borderWidth=0,this.borderHeight=0,this.suppressBorder=!0,this.availableMeals=[$.Cookie,$.CrunchyCake,$.IceCream,$.SpecialCrunchPie],this.levelName="level_2",this.customerFrustratedTime=45e3,this.customerAttackTime=65e3,this.customerSpawnSpeed=17e3,this.initialCustomersToServe=8}addSeatsAndDoors(){this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",3,8)),this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",5,8)),this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",7,8)),this.doors.push(ne.createWallTile(this,R.Door.asSprite(),5,10.35))}addBackgroundTiles(){ne.createBackgroundTile(this,se.CounterFaceCenter,1,1),ne.createBackgroundTile(this,se.CounterFaceCenter,2,1),ne.createBackgroundTile(this,se.CounterFaceCenter,3,1),ne.createBackgroundTile(this,se.CounterFaceCenter,4,1),ne.createBackgroundTile(this,se.CounterFaceCenter,5,1),ne.createBackgroundTile(this,se.CounterFaceCenter,6,1),ne.createBackgroundTile(this,se.CounterFaceCenter,7,1),ne.createBackgroundTile(this,se.CounterFaceCenter,8,1),ne.createBackgroundTile(this,se.CounterFaceCenter,9,1),ne.createBackgroundTile(this,se.CounterFaceCenter,1,11),ne.createBackgroundTile(this,se.CounterFaceCenter,2,11),ne.createBackgroundTile(this,se.CounterFaceCenter,3,11),ne.createBackgroundTile(this,se.CounterFaceCenter,4,11),ne.createBackgroundTile(this,se.CounterFaceCenter,6,11),ne.createBackgroundTile(this,se.CounterFaceCenter,7,11),ne.createBackgroundTile(this,se.CounterFaceCenter,8,11),ne.createBackgroundTile(this,se.CounterFaceCenter,9,11),ne.createBackgroundTile(this,se.CounterFaceLeft,0,11),ne.createBackgroundTile(this,se.CounterFaceRight,10,11),ne.createBackgroundTile(this,se.Table_H_BottomLeftLeg,3,8),ne.createBackgroundTile(this,se.Table_H_BottomMidNoLeg,4,8),ne.createBackgroundTile(this,se.Table_H_BottomMidNoLeg,5,8),ne.createBackgroundTile(this,se.Table_H_BottomMidNoLeg,6,8),ne.createBackgroundTile(this,se.Table_H_BottomRightLeg,7,8),ne.createBackgroundTile(this,se.CounterFaceLeft,3,5),ne.createBackgroundTile(this,se.CounterFaceCenter,4,5),ne.createBackgroundTile(this,se.CounterFaceCenter,5,5),ne.createBackgroundTile(this,se.CounterFaceCenter,6,5),ne.createBackgroundTile(this,se.CounterFaceRight,7,5)}addForegroundTiles(){ne.createWallTile(this,se.Table_H_TopLeft,3,7),ne.createWallTile(this,se.Table_H_TopMid,4,7),ne.createWallTile(this,se.Table_H_TopMid,5,7),ne.createWallTile(this,se.Table_H_TopMid,6,7),ne.createWallTile(this,se.Table_H_TopRight,7,7),ne.createWallTile(this,se.CounterCornerTopLeft,0,0),ne.createWallTile(this,se.CounterMiddleFull,1,0),ne.createWallTile(this,se.CounterMiddleFull,2,0),ne.createWallTile(this,se.CounterMiddleFull,3,0),ne.createWallTile(this,se.CounterMiddleFull,4,0),ne.createWallTile(this,se.CounterMiddleFull,5,0),ne.createWallTile(this,se.CounterMiddleFull,6,0),ne.createWallTile(this,se.CounterMiddleFull,7,0),ne.createWallTile(this,se.CounterMiddleFull,8,0),ne.createWallTile(this,se.CounterMiddleFull,9,0),ne.createWallTile(this,se.CounterCornerTopRight,10,0),ne.createWallTile(this,se.CounterVerticalFull,0,1),ne.createWallTile(this,se.CounterVerticalFull,0,2),ne.createWallTile(this,se.CounterVerticalFull,0,3),ne.createWallTile(this,se.CounterVerticalFull,0,4),ne.createWallTile(this,se.CounterVerticalFull,0,5),ne.createWallTile(this,se.CounterVerticalFull,0,6),ne.createWallTile(this,se.CounterVerticalFull,0,7),ne.createWallTile(this,se.CounterVerticalFull,0,8),ne.createWallTile(this,se.CounterVerticalFull,0,9),ne.createWallTile(this,se.CounterVerticalFull,10,1),ne.createWallTile(this,se.CounterVerticalFull,10,2),ne.createWallTile(this,se.CounterVerticalFull,10,3),ne.createWallTile(this,se.CounterVerticalFull,10,4),ne.createWallTile(this,se.CounterVerticalFull,10,5),ne.createWallTile(this,se.CounterVerticalFull,10,6),ne.createWallTile(this,se.CounterVerticalFull,10,7),ne.createWallTile(this,se.CounterVerticalFull,10,8),ne.createWallTile(this,se.CounterVerticalFull,10,9),ne.createWallTile(this,se.CounterCornerBottomLeft,0,10),ne.createWallTile(this,se.CounterMiddleFull,1,10),ne.createWallTile(this,se.CounterMiddleFull,2,10),ne.createWallTile(this,se.CounterMiddleFull,3,10),ne.createWallTile(this,se.CounterMiddleFull,4,10),ne.createWallTile(this,se.CounterMiddleFull,5,10),ne.createWallTile(this,se.CounterMiddleFull,6,10),ne.createWallTile(this,se.CounterMiddleFull,7,10),ne.createWallTile(this,se.CounterMiddleFull,8,10),ne.createWallTile(this,se.CounterMiddleFull,9,10),ne.createWallTile(this,se.CounterBottomCornerRight,10,10),ne.createWallTile(this,se.CounterCornerTopLeft,3,4),ne.createWallTile(this,se.CounterMiddleFull,4,4),ne.createWallTile(this,se.CounterMiddleFull,5,4),ne.createWallTile(this,se.CounterMiddleFull,6,4),ne.createWallTile(this,se.CounterCornerTopRight,7,4)}addAppliances(){ne.createApplianceOnTile(this,G.Stove,0,3),ne.createApplianceOnTile(this,G.Stove,0,4),ne.createApplianceOnTile(this,G.ServingPlate,2,0),ne.createApplianceOnTile(this,G.ServingPlate,3,0),ne.createApplianceOnTile(this,G.ServingPlate,4,0),ne.createApplianceOnTile(this,G.ServingPlate,5,0),ne.createApplianceOnTile(this,G.Trashcan,1,9)}addPans(e){ne.createPanOnTile(this,e,0,1),ne.createPanOnTile(this,e,0,2),ne.createPanOnTile(this,e,0,5),ne.createPanOnTile(this,e,0,6)}addItems(){ne.createIngrediantSpawnerOnTile(this,10,2,"FlourBag"),ne.createIngrediantSpawnerOnTile(this,10,3,"FlourBag"),ne.createIngrediantSpawnerOnTile(this,10,4,"EggRaw"),ne.createIngrediantSpawnerOnTile(this,10,5,"Skull"),ne.createIngrediantSpawnerOnTile(this,10,6,"YellowPot"),ne.createIngrediantSpawnerOnTile(this,10,7,"WhiteGem"),ne.createIngrediantSpawnerOnTile(this,10,8,"PurpleGem")}onInitialize(e){super.onInitialize(e)}}class Se extends Te{constructor(){super(...arguments),this.nextLevel="level_3a",this.borderWidth=0,this.borderHeight=0,this.suppressBorder=!0,this.availableMeals=[$.Drumstick,$.FlipPhone,$.Hotdog,$.EnergyDrink],this.levelName="level_2a",this.customerFrustratedTime=45e3,this.customerAttackTime=6e4,this.customerSpawnSpeed=14e3,this.initialCustomersToServe=10}addSeatsAndDoors(){this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",3,8)),this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",4,8)),this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",6,8)),this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",7,8)),this.doors.push(ne.createWallTile(this,R.Door.asSprite(),5,10.35))}addItems(){ne.createIngrediantSpawnerOnTile(this,10,2,"Poison"),ne.createIngrediantSpawnerOnTile(this,10,3,"ToiletPaper"),ne.createIngrediantSpawnerOnTile(this,10,4,"Drumstick"),ne.createIngrediantSpawnerOnTile(this,10,5,"StormCloud"),ne.createIngrediantSpawnerOnTile(this,10,6,"FloppyDisk"),ne.createIngrediantSpawnerOnTile(this,10,7,"ToiletPaper"),ne.createIngrediantSpawnerOnTile(this,10,8,"Meat"),ne.createIngrediantSpawnerOnTile(this,10,9,"Bread")}}class me extends Te{constructor(){super(...arguments),this.nextLevel="level_3b",this.borderWidth=0,this.borderHeight=0,this.suppressBorder=!0,this.availableMeals=[$.EnergyDrink,$.MonsterPie,$.Cookie,$.FriedEgg,$.BananaPie,$.SpecialCrunchPie],this.levelName="level_2b",this.customerFrustratedTime=42e3,this.customerAttackTime=5e4,this.customerSpawnSpeed=5e3,this.initialCustomersToServe=15}addSeatsAndDoors(){this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",3,8)),this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",4,8)),this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",5,8)),this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",6,8)),this.customerSeats.push(ne.createSeat(this,se.GreyStool,"u",7,8)),this.doors.push(ne.createWallTile(this,R.Door.asSprite(),5,10.35))}addItems(){ne.createIngrediantSpawnerOnTile(this,10,1,"PurpleGem"),ne.createIngrediantSpawnerOnTile(this,10,2,"Poison"),ne.createIngrediantSpawnerOnTile(this,10,3,"StormCloud"),ne.createIngrediantSpawnerOnTile(this,10,4,"FlourBag"),ne.createIngrediantSpawnerOnTile(this,10,5,"Apple"),ne.createIngrediantSpawnerOnTile(this,10,6,"Banana"),ne.createIngrediantSpawnerOnTile(this,10,7,"EggRaw"),ne.createIngrediantSpawnerOnTile(this,10,8,"YellowPot"),ne.createIngrediantSpawnerOnTile(this,10,9,"WhiteGem")}}class Ce extends oe{constructor(){super(...arguments),this.nextLevel="level_1a",this.borderWidth=13,this.borderHeight=10,this.availableMeals=[$.MonsterPie,$.FlipPhone,$.CowboyBoots],this.customerFrustratedTime=5e4,this.customerAttackTime=65e3,this.customerSpawnSpeed=16e3,this.levelName="level_3",this.initialCustomersToServe=10}onInitialize(e){super.onInitialize(e)}addBackgroundTiles(){ne.createBackgroundTile(this,se.CounterFaceLeft,1,5),ne.createBackgroundTile(this,se.CounterFaceCenter,2,5),ne.createBackgroundTile(this,se.CounterFaceCenter,3,5),ne.createBackgroundTile(this,se.CounterFaceCenter,4,5),ne.createBackgroundTile(this,se.CounterFaceRight,5,5),ne.createBackgroundTile(this,se.CounterFaceStandalone,5,2),ne.createBackgroundTile(this,se.CounterFaceLeft,8,5),ne.createBackgroundTile(this,se.CounterFaceCenter,9,5),ne.createBackgroundTile(this,se.CounterFaceCenter,10,5),ne.createBackgroundTile(this,se.CounterFaceCenter,11,5),ne.createBackgroundTile(this,se.CounterFaceRight,12,5),ne.createBackgroundTile(this,se.CounterFaceStandalone,8,2),ne.createBackgroundTile(this,se.Table_V_BottomLeg,6,8),ne.createBackgroundTile(this,se.Table_V_BottomLeg,8,8),ne.createBackgroundTile(this,se.Table_V_BottomLeg,10,8)}addForegroundTiles(){ne.createWallTile(this,se.CounterVerticalFull,1,1),ne.createWallTile(this,se.CounterVerticalFull,1,2),ne.createWallTile(this,se.CounterVerticalFull,1,3),ne.createWallTile(this,se.CounterCornerBottomLeft,1,4),ne.createWallTile(this,se.CounterVerticalFull,5,1),ne.createWallTile(this,se.CounterCornerTopRight,5,4),ne.createWallTile(this,se.CounterBottomCentral,2,4),ne.createWallTile(this,se.CounterBottomCentral,3,4),ne.createWallTile(this,se.CounterBottomCentral,4,4),ne.createWallTile(this,se.CounterVerticalFull,12,1),ne.createWallTile(this,se.CounterVerticalFull,12,2),ne.createWallTile(this,se.CounterVerticalFull,12,3),ne.createWallTile(this,se.CounterBottomCornerRight,12,4),ne.createWallTile(this,se.CounterVerticalFull,8,1),ne.createWallTile(this,se.CounterCornerTopLeft,8,4),ne.createWallTile(this,se.CounterBottomCentral,9,4),ne.createWallTile(this,se.CounterBottomCentral,10,4),ne.createWallTile(this,se.CounterBottomCentral,11,4),ne.createWallTile(this,se.Table_V_TopLarge,6,7),ne.createWallTile(this,se.Table_V_TopLarge,8,7),ne.createWallTile(this,se.Table_V_TopLarge,10,7)}addAppliances(){ne.createApplianceOnTile(this,G.Stove,5,1),ne.createApplianceOnTile(this,G.Stove,8,1),ne.createApplianceOnTile(this,G.ServingPlate,4,4),ne.createApplianceOnTile(this,G.ServingPlate,5,4),ne.createApplianceOnTile(this,G.ServingPlate,8,4),ne.createApplianceOnTile(this,G.ServingPlate,9,4),ne.createApplianceOnTile(this,G.Trashcan,7,1),ne.createApplianceOnTile(this,G.Trashcan,6,1)}addPans(e){ne.createPanOnTile(this,e,3,4),ne.createPanOnTile(this,e,10,4)}addItems(){ne.createIngrediantSpawnerOnTile(this,1,1,"Poison"),ne.createIngrediantSpawnerOnTile(this,1,2,"FlourBag"),ne.createIngrediantSpawnerOnTile(this,1,3,"Apple"),ne.createIngrediantSpawnerOnTile(this,2,4,"FloppyDisk"),ne.createIngrediantSpawnerOnTile(this,12,1,"StormCloud"),ne.createIngrediantSpawnerOnTile(this,12,2,"SyringeGreen"),ne.createIngrediantSpawnerOnTile(this,12,3,"Meat"),ne.createIngrediantSpawnerOnTile(this,11,4,"Poison")}addSeatsAndDoors(){this.customerSeats.push(ne.createSeat(this,se.RedStool,"u",8,8)),this.customerSeats.push(ne.createSeat(this,se.RedStool,"l",11,7.5)),this.customerSeats.push(ne.createSeat(this,se.RedStool,"r",5,7.5)),this.doors.push(ne.createWallTile(this,R.Door.asSprite(),3,10))}}class we extends Ce{constructor(){super(...arguments),this.nextLevel="level_1b",this.borderWidth=13,this.borderHeight=10,this.availableMeals=[$.Hotdog,$.Cheesedog,$.Drumstick,$.Taco],this.customerFrustratedTime=5e4,this.customerAttackTime=6e4,this.customerSpawnSpeed=12e3,this.levelName="level_3a",this.initialCustomersToServe=10}addItems(){ne.createIngrediantSpawnerOnTile(this,1,1,"ToiletPaper"),ne.createIngrediantSpawnerOnTile(this,1,2,"Meat"),ne.createIngrediantSpawnerOnTile(this,1,3,"Bread"),ne.createIngrediantSpawnerOnTile(this,2,4,"Cheese"),ne.createIngrediantSpawnerOnTile(this,12,1,"Stick"),ne.createIngrediantSpawnerOnTile(this,12,2,"GreenLeaf"),ne.createIngrediantSpawnerOnTile(this,12,3,"Meat"),ne.createIngrediantSpawnerOnTile(this,11,4,"Cheese")}}class be extends Ce{constructor(){super(...arguments),this.nextLevel=null,this.borderWidth=13,this.borderHeight=10,this.availableMeals=[$.Pizza,$.PepperoniPizza,$.Burger,$.Taco,$.IceCream,$.Cheesedog],this.customerFrustratedTime=5e4,this.customerAttackTime=6e4,this.customerSpawnSpeed=1e4,this.levelName="level_3b",this.initialCustomersToServe=0}addItems(){ne.createIngrediantSpawnerOnTile(this,1,1,"FlourBag"),ne.createIngrediantSpawnerOnTile(this,1,2,"RedPot"),ne.createIngrediantSpawnerOnTile(this,1,3,"Cheese"),ne.createIngrediantSpawnerOnTile(this,2,4,"Meat"),ne.createIngrediantSpawnerOnTile(this,12,1,"Bread"),ne.createIngrediantSpawnerOnTile(this,12,2,"GreenLeaf"),ne.createIngrediantSpawnerOnTile(this,12,3,"EggRaw"),ne.createIngrediantSpawnerOnTile(this,11,4,"Meat")}}class fe extends oe{constructor(){super(...arguments),this.nextLevel="tutorial_2",this.borderWidth=10,this.borderHeight=10,this.availableMeals=[$.FriedEgg,$.MonsterPie],this.levelName="tutorial_1",this.isTutorial=!0,this.initialCustomersToServe=9001}onInitialize(e){super.onInitialize(e),U.addTutorialButton(this,this.nextLevel)}addBackgroundTiles(){ne.createLabelAcrossTiles(this,"Use the space bar to",-3,2,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"pick up or set down items.",-3,2.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"Ingredients will respawn",-3,4,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"if there is enough space.",-3,4.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"Ingredients can be set",-3,7,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"down into pans.",-3,7.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"Pans placed on ranges",13,2.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"start to cook if they",13,3,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"have ingredients.",13,3.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"This is a serving board.",13,7.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"Swing a pan over it with E",13,8,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"when the pan turns golden",13,8.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"to create a cooked meal.",13,9,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"Set down an ingredient or swing",4,5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"a pan over the trash can ",4,5.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"to throw away the ingredient(s).",4,6,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"Click the continue button",5,12,13,r.Color.Magenta),ne.createLabelAcrossTiles(this,"to continue the tutorial.",5,12.5,4.5,r.Color.Magenta)}addForegroundTiles(){ne.createWallTile(this,se.CounterVerticalFull,9,1),ne.createWallTile(this,se.CounterVerticalFull,9,2),ne.createWallTile(this,se.CounterVerticalFull,9,3),ne.createWallTile(this,se.CounterVerticalFull,9,4),ne.createWallTile(this,se.CounterVerticalFull,9,5),ne.createWallTile(this,se.CounterVerticalFull,9,6),ne.createWallTile(this,se.CounterVerticalFull,9,7),ne.createWallTile(this,se.CounterVerticalFull,9,8),ne.createWallTile(this,se.CounterVerticalFull,9,9),ne.createWallTile(this,se.CounterVerticalFull,1,1),ne.createWallTile(this,se.CounterVerticalFull,1,2),ne.createWallTile(this,se.CounterVerticalFull,1,3),ne.createWallTile(this,se.CounterVerticalFull,1,4),ne.createWallTile(this,se.CounterVerticalFull,1,5),ne.createWallTile(this,se.CounterVerticalFull,1,6),ne.createWallTile(this,se.CounterVerticalFull,1,7),ne.createWallTile(this,se.CounterVerticalFull,1,8),ne.createWallTile(this,se.CounterVerticalFull,1,9)}addAppliances(){ne.createApplianceOnTile(this,G.Stove,9,2),ne.createApplianceOnTile(this,G.Stove,9,3),ne.createApplianceOnTile(this,G.ServingPlate,9,7),ne.createApplianceOnTile(this,G.Trashcan,4,4)}addPans(e){ne.createPanOnTile(this,e,1,8)}addItems(){ne.createIngrediantSpawnerOnTile(this,1,2,"Apple"),ne.createIngrediantSpawnerOnTile(this,1,3,"EggRaw"),ne.createIngrediantSpawnerOnTile(this,1,4,"Poison"),ne.createIngrediantSpawnerOnTile(this,1,5,"FlourBag")}addSeatsAndDoors(){}}class ke extends oe{constructor(){super(...arguments),this.nextLevel="level_1",this.borderWidth=10,this.borderHeight=10,this.customerAttackTime=12e4,this.customerFrustratedTime=2e4,this.availableMeals=[$.FriedEgg,$.MonsterPie],this.levelName="tutorial_2",this.isTutorial=!0,this.initialCustomersToServe=1}onInitialize(e){super.onInitialize(e),U.addTutorialButton(this,this.nextLevel)}addBackgroundTiles(){ne.createLabelAcrossTiles(this,"Customers will want a",-3,2,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"specific meal. Make that",-3,2.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"meal and place it on the",-3,3,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"table in front of the customer.",-3,3.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"Customers who have waited for",-3,4.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"a while will get frustrated,",-3,5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"indicated by their thought ",-3,5.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"bubble starting to flash.",-3,6,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"If you wait too long to feed",-3,7,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"them, customers will try to eat",-3,7.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"you! Swing your pans at them (E)",-3,8,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"to fend off angry customers!",-3,8.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"Recipe cards are show on the",5,2,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"top left of your UI, HP and",5,2.5,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"remaining customers in this",5,3,4.5,r.Color.Magenta),ne.createLabelAcrossTiles(this,"stage are in the top right.",5,3.5,4.5,r.Color.Magenta),ne.createBackgroundTile(this,se.Table_V_BottomLeg,4,8)}addForegroundTiles(){ne.createWallTile(this,se.CounterVerticalFull,9,1),ne.createWallTile(this,se.CounterVerticalFull,9,2),ne.createWallTile(this,se.CounterVerticalFull,9,3),ne.createWallTile(this,se.CounterVerticalFull,9,4),ne.createWallTile(this,se.CounterVerticalFull,9,5),ne.createWallTile(this,se.CounterVerticalFull,9,6),ne.createWallTile(this,se.CounterVerticalFull,9,7),ne.createWallTile(this,se.CounterVerticalFull,9,8),ne.createWallTile(this,se.CounterVerticalFull,9,9),ne.createWallTile(this,se.CounterVerticalFull,1,1),ne.createWallTile(this,se.CounterVerticalFull,1,2),ne.createWallTile(this,se.CounterVerticalFull,1,3),ne.createWallTile(this,se.CounterVerticalFull,1,4),ne.createWallTile(this,se.CounterVerticalFull,1,5),ne.createWallTile(this,se.CounterVerticalFull,1,6),ne.createWallTile(this,se.CounterVerticalFull,1,7),ne.createWallTile(this,se.CounterVerticalFull,1,8),ne.createWallTile(this,se.CounterVerticalFull,1,9),ne.createWallTile(this,se.Table_V_TopLarge,4,7)}addAppliances(){ne.createApplianceOnTile(this,G.Stove,9,2),ne.createApplianceOnTile(this,G.Stove,9,3),ne.createApplianceOnTile(this,G.ServingPlate,9,7),ne.createApplianceOnTile(this,G.Trashcan,4,4)}addPans(e){ne.createPanOnTile(this,e,1,8)}addItems(){ne.createIngrediantSpawnerOnTile(this,1,2,"Apple"),ne.createIngrediantSpawnerOnTile(this,1,3,"EggRaw"),ne.createIngrediantSpawnerOnTile(this,1,4,"Poison"),ne.createIngrediantSpawnerOnTile(this,1,5,"FlourBag")}addSeatsAndDoors(){this.customerSeats.push(ne.createSeat(this,se.RedStool,"r",3,7.5)),this.doors.push(ne.createWallTile(this,R.Door.asSprite(),8,10))}}class ve extends r.Engine{constructor(){super({displayMode:r.DisplayMode.FullScreen}),ve.CurrentGame=this}start(){window.location.host.startsWith("localhost")&&(ve.debugMode=!0),this.addLevel(new he(this)),this.addLevel(new ue(this)),this.addLevel(new de(this)),this.addLevel(new fe(this)),this.addLevel(new ke(this)),this.addLevel(new ge(this)),this.addLevel(new pe(this)),this.addLevel(new Te(this)),this.addLevel(new Se(this)),this.addLevel(new me(this)),this.addLevel(new Ce(this)),this.addLevel(new we(this)),this.addLevel(new be(this)),Be.add("death",new Y(this));const e=new r.Loader(Object.values(R));return e.suppressPlayButton=!1,super.start(e)}addLevel(e){Be.add(e.levelName,e)}}ve.muteMusic=!1,ve.debugMode=!1;const Be=new ve;Be.start().then((()=>{Be.goToScene("tutorial_1")})),document.oncontextmenu=()=>!1},778:(e,t,i)=>{e.exports=i.p+"f1b0ee4cfa3d5207d987.wav"},677:(e,t,i)=>{e.exports=i.p+"c10a822e95fb9f804f6b.wav"},370:(e,t,i)=>{e.exports=i.p+"91f99393da049d5cbd09.wav"},100:(e,t,i)=>{e.exports=i.p+"55c6fe970630123c41c1.wav"},275:(e,t,i)=>{e.exports=i.p+"2597277c7e49e8e0241b.wav"},631:(e,t,i)=>{e.exports=i.p+"018efdd6b1accd93efd6.wav"},518:(e,t,i)=>{e.exports=i.p+"64ba563e6ad61b443cac.wav"},70:(e,t,i)=>{e.exports=i.p+"d5c77e6265fc7d82d2b7.wav"},983:(e,t,i)=>{e.exports=i.p+"40772384d17364fa44f2.wav"},647:(e,t,i)=>{e.exports=i.p+"98b010e965c8b65e086b.wav"},83:(e,t,i)=>{e.exports=i.p+"dc86694507b5463912f0.wav"},719:(e,t,i)=>{e.exports=i.p+"94ea0d4f8d6fdca9f33b.wav"},898:(e,t,i)=>{e.exports=i.p+"f286b302be3827ac1e62.wav"},870:(e,t,i)=>{e.exports=i.p+"8e4f2531aec53848bd6c.wav"},761:(e,t,i)=>{e.exports=i.p+"fdf6337d6ffc17459338.png"},966:(e,t,i)=>{e.exports=i.p+"ef4623bfdde5763e26d2.png"},467:(e,t,i)=>{e.exports=i.p+"1785d78b05fd5a9b4eb1.png"},94:(e,t,i)=>{e.exports=i.p+"fd89020968ce56f21943.png"},48:(e,t,i)=>{e.exports=i.p+"0d29c6e9e7083e7dd9a8.png"},650:(e,t,i)=>{e.exports=i.p+"c54710804fb52b22f45e.png"},916:(e,t,i)=>{e.exports=i.p+"4687a6dbfe1b412c2f04.png"},89:(e,t,i)=>{e.exports=i.p+"f6256e8807347b25cd36.png"},553:(e,t,i)=>{e.exports=i.p+"e5044f0fcc13982144ad.png"},196:(e,t,i)=>{e.exports=i.p+"361e85d4f64d950d5c0c.png"},279:(e,t,i)=>{e.exports=i.p+"e7c2fc6cc69f2631f43c.png"},78:(e,t,i)=>{e.exports=i.p+"0bf3b904bc699388453f.png"},362:(e,t,i)=>{e.exports=i.p+"5ab5c8076e8f2e660fd8.png"},456:(e,t,i)=>{e.exports=i.p+"725dc0fbc6baca8ee4b1.png"},489:(e,t,i)=>{e.exports=i.p+"5b00616f4b77e29b073c.png"},765:(e,t,i)=>{e.exports=i.p+"4518ef3856b6ee183ca5.png"},802:(e,t,i)=>{e.exports=i.p+"b23e0406280c9f7416d8.png"},280:(e,t,i)=>{e.exports=i.p+"29ac17f48bc281b23ced.png"},316:(e,t,i)=>{e.exports=i.p+"0f6ff4229d8174a5112c.png"},657:(e,t,i)=>{e.exports=i.p+"60984bb1934479bdebb8.png"},936:(e,t,i)=>{e.exports=i.p+"84053a05be43fd7a62bf.png"}},i={};function r(e){var a=i[e];if(void 0!==a)return a.exports;var s=i[e]={exports:{}};return t[e](s,s.exports,r),s.exports}r.m=t,e=[],r.O=(t,i,a,s)=>{if(!i){var n=1/0;for(h=0;h<e.length;h++){for(var[i,a,s]=e[h],l=!0,o=0;o<i.length;o++)(!1&s||n>=s)&&Object.keys(r.O).every((e=>r.O[e](i[o])))?i.splice(o--,1):(l=!1,s<n&&(n=s));if(l){e.splice(h--,1);var c=a();void 0!==c&&(t=c)}}return t}s=s||0;for(var h=e.length;h>0&&e[h-1][2]>s;h--)e[h]=e[h-1];e[h]=[i,a,s]},r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e;r.g.importScripts&&(e=r.g.location+"");var t=r.g.document;if(!e&&t&&(t.currentScript&&(e=t.currentScript.src),!e)){var i=t.getElementsByTagName("script");i.length&&(e=i[i.length-1].src)}if(!e)throw new Error("Automatic publicPath is not supported in this browser");e=e.replace(/#.*$/,"").replace(/\?.*$/,"").replace(/\/[^\/]+$/,"/"),r.p=e})(),(()=>{var e={179:0};r.O.j=t=>0===e[t];var t=(t,i)=>{var a,s,[n,l,o]=i,c=0;for(a in l)r.o(l,a)&&(r.m[a]=l[a]);if(o)var h=o(r);for(t&&t(i);c<n.length;c++)s=n[c],r.o(e,s)&&e[s]&&e[s][0](),e[n[c]]=0;return r.O(h)},i=self.webpackChunkexcalibur_webpack=self.webpackChunkexcalibur_webpack||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var a=r.O(void 0,[657],(()=>r(342)));a=r.O(a)})();
//# sourceMappingURL=main.js.map